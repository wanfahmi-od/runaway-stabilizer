this.createjs=this.createjs||{};(function(){var a=createjs.SoundJS=createjs.SoundJS||{};a.version="NEXT";a.buildDate="Mon, 27 Oct 2014 20:40:07 GMT"})();this.createjs=this.createjs||{};(function(){var a=function(){};var b=a.prototype;a.prototype.constructor=a;a.initialize=function(c){c.addEventListener=b.addEventListener;c.on=b.on;c.removeEventListener=c.off=b.removeEventListener;c.removeAllEventListeners=b.removeAllEventListeners;c.hasEventListener=b.hasEventListener;c.dispatchEvent=b.dispatchEvent;c._dispatchEvent=b._dispatchEvent;c.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(f,d,g){var e;if(g){e=this._captureListeners=this._captureListeners||{}}else{e=this._listeners=this._listeners||{}}var c=e[f];if(c){this.removeEventListener(f,d,g)}c=e[f];if(!c){e[f]=[d]}else{c.push(d)}return d};b.on=function(g,d,f,e,c,h){if(d.handleEvent){f=f||d;d=d.handleEvent}f=f||this;return this.addEventListener(g,function(i){d.call(f,i,c);e&&i.remove()},h)};b.removeEventListener=function(h,f,j){var g=j?this._captureListeners:this._listeners;if(!g){return}var c=g[h];if(!c){return}for(var d=0,e=c.length;d<e;d++){if(c[d]==f){if(e==1){delete (g[h])}else{c.splice(d,1)}break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(c){if(!c){this._listeners=this._captureListeners=null}else{if(this._listeners){delete (this._listeners[c])}if(this._captureListeners){delete (this._captureListeners[c])}}};b.dispatchEvent=function(d){if(typeof d=="string"){var j=this._listeners;if(!j||!j[d]){return false}d=new createjs.Event(d)}else{if(d.target&&d.clone){d=d.clone()}}try{d.target=this}catch(c){}if(!d.bubbles||!this.parent){this._dispatchEvent(d,2)}else{var k=this,h=[k];while(k.parent){h.push(k=k.parent)}var f,g=h.length;for(f=g-1;f>=0&&!d.propagationStopped;f--){h[f]._dispatchEvent(d,1+(f==0))}for(f=1;f<g&&!d.propagationStopped;f++){h[f]._dispatchEvent(d,3)}}return d.defaultPrevented};b.hasEventListener=function(e){var d=this._listeners,c=this._captureListeners;return !!((d&&d[e])||(c&&c[e]))};b.willTrigger=function(d){var c=this;while(c){if(c.hasEventListener(d)){return true}c=c.parent}return false};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(f,g){var j,k=(g==1)?this._captureListeners:this._listeners;if(f&&k){var c=k[f.type];if(!c||!(j=c.length)){return}try{f.currentTarget=this}catch(d){}try{f.eventPhase=g}catch(d){}f.removed=false;c=c.slice();for(var h=0;h<j&&!f.immediatePropagationStopped;h++){var m=c[h];if(m.handleEvent){m.handleEvent(f)}else{m(f)}if(f.removed){this.off(f.type,m,g==1);f.removed=false}}}};createjs.EventDispatcher=a}());this.createjs=this.createjs||{};(function(){var a=function(e,c,d){this.initialize(e,c,d)};var b=a.prototype;a.prototype.constructor=a;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=false;b.cancelable=false;b.timeStamp=0;b.defaultPrevented=false;b.propagationStopped=false;b.immediatePropagationStopped=false;b.removed=false;b.initialize=function(e,c,d){this.type=e;this.bubbles=c;this.cancelable=d;this.timeStamp=(new Date()).getTime()};b.preventDefault=function(){this.defaultPrevented=true};b.stopPropagation=function(){this.propagationStopped=true};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};b.remove=function(){this.removed=true};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.set=function(d){for(var c in d){this[c]=d[c]}return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a}());this.createjs=this.createjs||{};(function(){createjs.indexOf=function(a,d){for(var b=0,c=a.length;b<c;b++){if(d===a[b]){return b}}return -1}}());this.createjs=this.createjs||{};(function(){createjs.proxy=function(b,c){var a=Array.prototype.slice.call(arguments,2);return function(){return b.apply(c,Array.prototype.slice.call(arguments,0).concat(a))}}}());this.createjs=this.createjs||{};(function(){var c=Object.defineProperty?true:false;var b={};try{Object.defineProperty(b,"bar",{get:function(){return this._bar},set:function(d){this._bar=d}})}catch(a){c=false}createjs.definePropertySupported=c}());this.createjs=this.createjs||{};(function(){function d(){throw"Sound cannot be instantiated"}var c=d;c.INTERRUPT_ANY="any";c.INTERRUPT_EARLY="early";c.INTERRUPT_LATE="late";c.INTERRUPT_NONE="none";c.PLAY_INITED="playInited";c.PLAY_SUCCEEDED="playSucceeded";c.PLAY_INTERRUPTED="playInterrupted";c.PLAY_FINISHED="playFinished";c.PLAY_FAILED="playFailed";c.SUPPORTED_EXTENSIONS=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];c.EXTENSION_MAP={m4a:"mp4"};c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;c.defaultInterruptBehavior=c.INTERRUPT_NONE;c.alternateExtensions=[];c._lastID=0;c.activePlugin=null;c._pluginsRegistered=false;c._masterVolume=1;c._masterMute=false;c._instances=[];c._idHash={};c._preloadHash={};c._defaultSoundInstance=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._sendFileLoadEvent=function(m){if(!c._preloadHash[m]){return}for(var h=0,k=c._preloadHash[m].length;h<k;h++){var j=c._preloadHash[m][h];c._preloadHash[m][h]=true;if(!c.hasEventListener("fileload")){continue}var g=new createjs.Event("fileload");g.src=j.src;g.id=j.id;g.data=j.data;g.sprite=j.sprite;c.dispatchEvent(g)}};c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}};c._registerPlugin=function(g){if(g.isSupported()){c.activePlugin=new g();return true}return false};c.registerPlugins=function(j){c._pluginsRegistered=true;for(var g=0,h=j.length;g<h;g++){if(c._registerPlugin(j[g])){return true}}return false};c.initializeDefaultPlugins=function(){if(c.activePlugin!=null){return true}if(c._pluginsRegistered){return false}if(c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])){return true}return false};c.isReady=function(){return(c.activePlugin!=null)};c.getCapabilities=function(){if(c.activePlugin==null){return null}return c.activePlugin._capabilities};c.getCapability=function(g){if(c.activePlugin==null){return null}return c.activePlugin._capabilities[g]};c.initLoad=function(i,j,h,g){return c._registerSound(i,h,g)};c._registerSound=function(o,k,g){if(!c.initializeDefaultPlugins()){return false}var h=c._parsePath(o);if(h==null){return false}h.type="sound";h.id=k;h.data=g;var m=c.activePlugin.defaultNumChannels||null;if(g!=null){if(!isNaN(g.channels)){m=parseInt(g.channels)}else{if(!isNaN(g)){m=parseInt(g)}}if(g.audioSprite){var n;for(var j=g.audioSprite.length;j--;){n=g.audioSprite[j];c._idHash[n.id]={src:h.src,startTime:parseInt(n.startTime),duration:parseInt(n.duration)}}}}if(k!=null){c._idHash[k]={src:h.src}}var l=c.activePlugin.register(h.src,m);e.create(h.src,m);if(g==null||!isNaN(g)){h.data=m||e.maxPerChannel()}else{h.data.channels=m||e.maxPerChannel()}h.tag=l.tag;if(l.completeHandler){h.completeHandler=l.completeHandler}if(l.type){h.type=l.type}return h};c.registerSound=function(k,j,h,g){if(k instanceof Object){g=j;j=k.id;h=k.data;k=k.src}if(g!=null){k=g+k}var i=c._registerSound(k,j,h);if(!i){return false}if(!c._preloadHash[i.src]){c._preloadHash[i.src]=[]}c._preloadHash[i.src].push({src:k,id:j,data:i.data});if(c._preloadHash[i.src].length==1){c.activePlugin.preload(i.src,i.tag)}else{if(c._preloadHash[i.src][0]==true){return true}}return i};c.registerManifest=function(k,g){var m=[];for(var h=0,j=k.length;h<j;h++){m[h]=createjs.Sound.registerSound(k[h].src,k[h].id,k[h].data,g)}return m};c.removeSound=function(j,g){if(c.activePlugin==null){return false}if(j instanceof Object){j=j.src}j=c._getSrcById(j).src;if(g!=null){j=g+j}var h=c._parsePath(j);if(h==null){return false}j=h.src;for(var i in c._idHash){if(c._idHash[i].src==j){delete (c._idHash[i])}}e.removeSrc(j);delete (c._preloadHash[j]);c.activePlugin.removeSound(j);return true};c.removeManifest=function(k,g){var m=[];for(var h=0,j=k.length;h<j;h++){m[h]=createjs.Sound.removeSound(k[h].src,g)}return m};c.removeAllSounds=function(){c._idHash={};c._preloadHash={};e.removeAll();if(c.activePlugin){c.activePlugin.removeAllSounds()}};c.loadComplete=function(h){if(!c.isReady()){return false}var g=c._parsePath(h);if(g){h=c._getSrcById(g.src).src}else{h=c._getSrcById(h).src}return(c._preloadHash[h][0]==true)};c._parsePath=function(n){if(typeof(n)!="string"){n=n.toString()}var k=n.match(c.FILE_PATTERN);if(k==null){return false}var l=k[4];var h=k[5];var g=c.getCapabilities();var j=0;while(!g[h]){h=c.alternateExtensions[j++];if(j>c.alternateExtensions.length){return null}}n=n.replace("."+k[5],"."+h);var m={name:l,src:n,extension:h};return m};c.play=function(o,j,g,l,k,q,n,p,h){if(j instanceof Object){g=j.delay;l=j.offset;k=j.loop;q=j.volume;n=j.pan;p=j.startTime;h=j.duration;j=j.interrupt}var i=c.createInstance(o,p,h);var m=c._playInstance(i,j,g,l,k,q,n);if(!m){i.playFailed()}return i};c.createInstance=function(j,k,h){if(!c.initializeDefaultPlugins()){return c._defaultSoundInstance}j=c._getSrcById(j);var g=c._parsePath(j.src);var i=null;if(g!=null&&g.src!=null){e.create(g.src);if(k==null){k=j.startTime}i=c.activePlugin.create(g.src,k,h||j.duration)}else{i=d._defaultSoundInstance}i.uniqueId=c._lastID++;return i};c.setVolume=function(k){if(Number(k)==null){return false}k=Math.max(0,Math.min(1,k));c._masterVolume=k;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(k)){var h=this._instances;for(var g=0,j=h.length;g<j;g++){h[g].setMasterVolume(k)}}};c.getVolume=function(){return c._masterVolume};c.setMute=function(k){if(k==null){return false}this._masterMute=k;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(k)){var h=this._instances;for(var g=0,j=h.length;g<j;g++){h[g].setMasterMute(k)}}return true};c.getMute=function(){return this._masterMute};c.stop=function(){var h=this._instances;for(var g=h.length;g--;){h[g].stop()}};c._playInstance=function(i,j,g,l,k,o,n){if(j instanceof Object){g=j.delay;l=j.offset;k=j.loop;o=j.volume;n=j.pan;j=j.interrupt}j=j||c.defaultInterruptBehavior;if(g==null){g=0}if(l==null){l=i.getPosition()}if(k==null){k=i.loop}if(o==null){o=i.volume}if(n==null){n=i.pan}if(g==0){var m=c._beginPlaying(i,j,l,k,o,n);if(!m){return false}}else{var h=setTimeout(function(){c._beginPlaying(i,j,l,k,o,n)},g);i._delayTimeoutId=h}this._instances.push(i);return true};c._beginPlaying=function(h,i,k,j,n,l){if(!e.add(h,i)){return false}var m=h._beginPlaying(k,j,n,l);if(!m){var g=createjs.indexOf(this._instances,h);if(g>-1){this._instances.splice(g,1)}return false}return true};c._getSrcById=function(g){return c._idHash[g]||{src:g}};c._playFinished=function(h){e.remove(h);var g=createjs.indexOf(this._instances,h);if(g>-1){this._instances.splice(g,1)}};createjs.Sound=d;function e(h,g){this.init(h,g)}e.channels={};e.create=function(i,h){var g=e.get(i);if(g==null){e.channels[i]=new e(i,h);return true}return false};e.removeSrc=function(h){var g=e.get(h);if(g==null){return false}g._removeAll();delete (e.channels[h]);return true};e.removeAll=function(){for(var g in e.channels){e.channels[g]._removeAll()}e.channels={}};e.add=function(h,i){var g=e.get(h.src);if(g==null){return false}return g._add(h,i)};e.remove=function(h){var g=e.get(h.src);if(g==null){return false}g._remove(h);return true};e.maxPerChannel=function(){return b.maxDefault};e.get=function(g){return e.channels[g]};var b=e.prototype;b.constructor=e;b.src=null;b.max=null;b.maxDefault=100;b.length=0;b.init=function(h,g){this.src=h;this.max=g||this.maxDefault;if(this.max==-1){this.max=this.maxDefault}this._instances=[]};b._get=function(g){return this._instances[g]};b._add=function(g,h){if(!this._getSlot(h,g)){return false}this._instances.push(g);this.length++;return true};b._remove=function(h){var g=createjs.indexOf(this._instances,h);if(g==-1){return false}this._instances.splice(g,1);this.length--;return true};b._removeAll=function(){for(var g=this.length-1;g>=0;g--){this._instances[g].stop()}};b._getSlot=function(j,h){var n,m;if(j!=d.INTERRUPT_NONE){m=this._get(0);if(m==null){return true}}for(var g=0,k=this.max;g<k;g++){n=this._get(g);if(n==null){return true}if(n.playState==d.PLAY_FINISHED||n.playState==d.PLAY_INTERRUPTED||n.playState==d.PLAY_FAILED){m=n;break}if(j==d.INTERRUPT_NONE){continue}if((j==d.INTERRUPT_EARLY&&n.getPosition()<m.getPosition())||(j==d.INTERRUPT_LATE&&n.getPosition()>m.getPosition())){m=n}}if(m!=null){m._interrupt();this._remove(m);return true}return false};b.toString=function(){return"[Sound SoundChannel]"};function f(){this.isDefault=true;this.addEventListener=this.on=this.off=this.removeEventListener=this.removeAllEventListeners=this.dispatchEvent=this.hasEventListener=this._listeners=this._interrupt=this._playFailed=this.pause=this.resume=this.play=this._beginPlaying=this._cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=this.playFailed=function(){return false};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=d.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}}d._defaultSoundInstance=new f();function a(){}a.init=function(){var g=window.navigator.userAgent;a.isWindowPhone=(g.indexOf("IEMobile")>-1)||(g.indexOf("Windows Phone")>-1);a.isFirefox=(g.indexOf("Firefox")>-1);a.isOpera=(window.opera!=null);a.isChrome=(g.indexOf("Chrome")>-1);a.isIOS=(g.indexOf("iPod")>-1||g.indexOf("iPhone")>-1||g.indexOf("iPad")>-1)&&!a.isWindowPhone;a.isAndroid=(g.indexOf("Android")>-1);a.isBlackberry=(g.indexOf("Blackberry")>-1)};a.init();createjs.Sound.BrowserDetect=a}());this.createjs=this.createjs||{};(function(){function c(){this._init()}var b=c;b._capabilities=null;b.isSupported=function(){var d=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;if(location.protocol=="file:"&&!d&&!this._isFileXHRSupported()){return false}b._generateCapabilities();if(b.context==null){return false}return true};b._isFileXHRSupported=function(){var e=true;var f=new XMLHttpRequest();try{f.open("GET","WebAudioPluginTest.fail",false)}catch(d){e=false;return e}f.onerror=function(){e=false};f.onload=function(){e=this.status==404||(this.status==200||(this.status==0&&this.response!=""))};try{f.send()}catch(d){e=false}return e};b._generateCapabilities=function(){if(b._capabilities!=null){return}var k=document.createElement("audio");if(k.canPlayType==null){return null}if(window.AudioContext){b.context=new AudioContext()}else{if(window.webkitAudioContext){b.context=new webkitAudioContext()}else{return null}}b._compatibilitySetUp();b.playEmptySound();b._capabilities={panning:true,volume:true,tracks:-1};var j=createjs.Sound.SUPPORTED_EXTENSIONS;var e=createjs.Sound.EXTENSION_MAP;for(var f=0,g=j.length;f<g;f++){var d=j[f];var h=e[d]||d;b._capabilities[d]=(k.canPlayType("audio/"+d)!="no"&&k.canPlayType("audio/"+d)!="")||(k.canPlayType("audio/"+h)!="no"&&k.canPlayType("audio/"+h)!="")}if(b.context.destination.numberOfChannels<2){b._capabilities.panning=false}};b._compatibilitySetUp=function(){b._panningModel="equalpower";if(b.context.createGain){return}b.context.createGain=b.context.createGainNode;var d=b.context.createBufferSource();d.__proto__.start=d.__proto__.noteGrainOn;d.__proto__.stop=d.__proto__.noteOff;b._panningModel=0};b.playEmptySound=function(){var d=b.context.createBufferSource();d.buffer=b.context.createBuffer(1,1,22050);d.connect(b.context.destination);d.start(0,0,0)};var a=c.prototype;a.constructor=c;a._capabilities=null;a._volume=1;a.context=null;a._panningModel="equalpower";a.dynamicsCompressorNode=null;a.gainNode=null;a._arrayBuffers=null;a._init=function(){this._capabilities=b._capabilities;this._arrayBuffers={};this.context=b.context;this._panningModel=b._panningModel;this.dynamicsCompressorNode=this.context.createDynamicsCompressor();this.dynamicsCompressorNode.connect(this.context.destination);this.gainNode=this.context.createGain();this.gainNode.connect(this.dynamicsCompressorNode)};a.register=function(f,d){this._arrayBuffers[f]=true;var e={tag:new createjs.WebAudioPlugin.Loader(f,this)};return e};a.isPreloadStarted=function(d){return(this._arrayBuffers[d]!=null)};a.isPreloadComplete=function(d){return(!(this._arrayBuffers[d]==null||this._arrayBuffers[d]==true))};a.removeSound=function(d){delete (this._arrayBuffers[d])};a.removeAllSounds=function(){this._arrayBuffers={}};a.addPreloadResults=function(e,d){this._arrayBuffers[e]=d};a._handlePreloadComplete=function(d){createjs.Sound._sendFileLoadEvent(d.src);d.cleanUp()};a.preload=function(e,f){this._arrayBuffers[e]=true;var d=new createjs.WebAudioPlugin.Loader(e,this);d.onload=this._handlePreloadComplete;d.load()};a.create=function(e,f,d){if(!this.isPreloadStarted(e)){this.preload(e)}return new createjs.WebAudioPlugin.SoundInstance(e,f,d,this)};a.setVolume=function(d){this._volume=d;this._updateVolume();return true};a._updateVolume=function(){var d=createjs.Sound._masterMute?0:this._volume;if(d!=this.gainNode.gain.value){this.gainNode.gain.value=d}};a.getVolume=function(){return this._volume};a.setMute=function(d){this._updateVolume();return true};a.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=c}());(function(){function b(e,f,c,d){this._init(e,f,c,d)}var a=b.prototype=new createjs.EventDispatcher();a.constructor=b;a.src=null;a.uniqueId=-1;a.playState=null;a._owner=null;a._offset=0;a._startTime=0;a._volume=1;if(createjs.definePropertySupported){Object.defineProperty(a,"volume",{get:function(){return this._volume},set:function(c){if(Number(c)==null){return false}c=Math.max(0,Math.min(1,c));this._volume=c;this._updateVolume()}})}a._pan=0;if(createjs.definePropertySupported){Object.defineProperty(a,"pan",{get:function(){return this._pan},set:function(c){if(!this._owner._capabilities.panning||Number(c)==null){return false}c=Math.max(-1,Math.min(1,c));this._pan=c;this.panNode.setPosition(c,0,-0.5)}})}a._duration=0;a._remainingLoops=0;if(createjs.definePropertySupported){Object.defineProperty(a,"loop",{get:function(){return this._remainingLoops},set:function(c){if(this._remainingLoops!=0&&c==0){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)}if(this._remainingLoops==0&&c!=0){this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0)}this._remainingLoops=c}})}a._delayTimeoutId=null;a._soundCompleteTimeout=null;a.gainNode=null;a.panNode=null;a.sourceNode=null;a._sourceNodeNext=null;a._muted=false;a.paused=false;a._paused=false;a._playbackStartTime=0;a._endedHandler=null;a._sendEvent=function(d){var c=new createjs.Event(d);this.dispatchEvent(c)};a._init=function(e,f,c,d){this.src=e;this._startTime=f*0.001||0;this._duration=c||0;this._owner=d;this.gainNode=this._owner.context.createGain();this.panNode=this._owner.context.createPanner();this.panNode.panningModel=this._owner._panningModel;this.panNode.connect(this.gainNode);if(this._owner.isPreloadComplete(this.src)&&!this._duration){this._duration=this._owner._arrayBuffers[this.src].duration*1000}this._endedHandler=createjs.proxy(this._handleSoundComplete,this)};a._cleanUp=function(){if(this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)}if(this.gainNode.numberOfOutputs!=0){this.gainNode.disconnect(0)}clearTimeout(this._delayTimeoutId);clearTimeout(this._soundCompleteTimeout);this._playbackStartTime=0;createjs.Sound._playFinished(this)};a._cleanUpAudioNode=function(c){if(c){c.stop(0);c.disconnect(0);c=null}return c};a._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this.paused=this._paused=false;this._sendEvent("interrupted")};a._handleSoundReady=function(d){if(!this._duration){this._duration=this._owner._arrayBuffers[this.src].duration*1000}if((this._offset*1000)>this._duration){this.playFailed();return}else{if(this._offset<0){this._offset=0}}this.playState=createjs.Sound.PLAY_SUCCEEDED;this.paused=this._paused=false;this.gainNode.connect(this._owner.gainNode);var c=this._duration*0.001;this.sourceNode=this._createAndPlayAudioNode((this._owner.context.currentTime-c),this._offset);this._playbackStartTime=this.sourceNode.startTime-this._offset;this._soundCompleteTimeout=setTimeout(this._endedHandler,(c-this._offset)*1000);if(this._remainingLoops!=0){this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0)}};a._createAndPlayAudioNode=function(f,e){var c=this._owner.context.createBufferSource();c.buffer=this._owner._arrayBuffers[this.src];c.connect(this.panNode);var d=this._duration*0.001;c.startTime=f+d;c.start(c.startTime,e+this._startTime,d-e);return c};a.play=function(d,c,f,e,h,g){if(this.playState==createjs.Sound.PLAY_SUCCEEDED){if(d instanceof Object){f=d.offset;e=d.loop;h=d.volume;g=d.pan}if(f!=null){this.setPosition(f)}if(e!=null){this.loop=e}if(h!=null){this.setVolume(h)}if(g!=null){this.setPan(g)}if(this._paused){this.resume()}return}this._cleanUp();createjs.Sound._playInstance(this,d,c,f,e,h,g)};a._beginPlaying=function(d,c,f,e){this._offset=d*0.001;this._remainingLoops=c;this.volume=f;this.pan=e;if(this._owner.isPreloadComplete(this.src)){this._handleSoundReady(null);this._sendEvent("succeeded");return 1}else{this.playFailed();return}};a.pause=function(){if(this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED){return false}this.paused=this._paused=true;this._offset=this._owner.context.currentTime-this._playbackStartTime;this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);if(this.gainNode.numberOfOutputs!=0){this.gainNode.disconnect(0)}clearTimeout(this._delayTimeoutId);clearTimeout(this._soundCompleteTimeout);return true};a.resume=function(){if(!this._paused){return false}this._handleSoundReady();return true};a.stop=function(){this.paused=this._paused=false;this._cleanUp();this.playState=createjs.Sound.PLAY_FINISHED;this._offset=0;return true};a.setVolume=function(c){this.volume=c;return true};a._updateVolume=function(){var c=this._muted?0:this._volume;if(c!=this.gainNode.gain.value){this.gainNode.gain.value=c}};a.getVolume=function(){return this.volume};a.setMute=function(c){if(c==null){return false}this._muted=c;this._updateVolume();return true};a.getMute=function(){return this._muted};a.setPan=function(c){this.pan=c;if(this.pan!=c){return false}return true};a.getPan=function(){return this.pan};a.getPosition=function(){if(this._paused||this.sourceNode==null){var c=this._offset}else{var c=this._owner.context.currentTime-this._playbackStartTime}return c*1000};a.setPosition=function(c){this._offset=c*0.001;if(this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);clearTimeout(this._soundCompleteTimeout)}if(!this._paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED){this._handleSoundReady()}return true};a.getDuration=function(){return this._duration};a._handleSoundComplete=function(c){this._offset=0;if(this._remainingLoops!=0){this._remainingLoops--;if(this._sourceNodeNext){this._cleanUpAudioNode(this.sourceNode);this.sourceNode=this._sourceNodeNext;this._playbackStartTime=this.sourceNode.startTime;this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0);this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)}else{this._handleSoundReady()}this._sendEvent("loop");return}this._cleanUp();this.playState=createjs.Sound.PLAY_FINISHED;this._sendEvent("complete")};a.playFailed=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_FAILED;this._sendEvent("failed")};a.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.WebAudioPlugin.SoundInstance=b}());(function(){function a(d,c){this._init(d,c)}var b=a.prototype;b.constructor=a;b.request=null;b.owner=null;b.progress=-1;b.src=null;b.result=null;b.onload=null;b.onprogress=null;b.onerror=null;b._init=function(d,c){this.src=d;this.owner=c};b.load=function(c){if(c!=null){this.src=c}this.request=new XMLHttpRequest();this.request.open("GET",this.src,true);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onerror=createjs.proxy(this.handleError,this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};b.handleProgress=function(c){if(!c||c.loaded>0&&c.total==0){return}this.progress=c.loaded/c.total;this.onprogress&&this.onprogress({loaded:c.loaded,total:c.total,progress:this.progress})};b.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};b.handleAudioDecoded=function(c){this.progress=1;this.result=c;this.owner.addPreloadResults(this.src,this.result);this.onload&&this.onload(this)};b.handleError=function(c){this.owner.removeSound(this.src);this.onerror&&this.onerror(c)};b.cleanUp=function(){if(!this.request){return}this.src=null;this.owner=null;this.request.onload=null;this.request.onerror=null;this.request.onprogress=null;this.request=null;this.onload=null;this.onprogress=null;this.onerror=null};b.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=a}());this.createjs=this.createjs||{};(function(){function a(){this._init()}var c=a;c.MAX_INSTANCES=30;c._AUDIO_READY="canplaythrough";c._AUDIO_ENDED="ended";c._AUDIO_SEEKED="seeked";c._AUDIO_STALLED="stalled";c._TIME_UPDATE="timeupdate";c._capabilities=null;c.enableIOS=false;c.isSupported=function(){c._generateCapabilities();if(c._capabilities==null){return false}return true};c._generateCapabilities=function(){if(c._capabilities!=null){return}var k=document.createElement("audio");if(k.canPlayType==null){return null}c._capabilities={panning:true,volume:true,tracks:-1};var j=createjs.Sound.SUPPORTED_EXTENSIONS;var e=createjs.Sound.EXTENSION_MAP;for(var f=0,g=j.length;f<g;f++){var d=j[f];var h=e[d]||d;c._capabilities[d]=(k.canPlayType("audio/"+d)!="no"&&k.canPlayType("audio/"+d)!="")||(k.canPlayType("audio/"+h)!="no"&&k.canPlayType("audio/"+h)!="")}};var b=a.prototype;b.constructor=a;b._capabilities=null;b._audioSources=null;b.defaultNumChannels=2;b._init=function(){this._capabilities=c._capabilities;this._audioSources={}};b.register=function(h,f){this._audioSources[h]=true;var d=createjs.HTMLAudioPlugin.TagPool.get(h);var j=null;var g=f;for(var e=0;e<g;e++){j=this._createTag(h);d.add(j)}return{tag:j}};b._createTag=function(d){var e=document.createElement("audio");e.autoplay=false;e.preload="none";e.src=d;return e};b.removeSound=function(d){delete (this._audioSources[d]);createjs.HTMLAudioPlugin.TagPool.remove(d)};b.removeAllSounds=function(){this._audioSources={};createjs.HTMLAudioPlugin.TagPool.removeAll()};b.create=function(f,g,e){if(!this.isPreloadStarted(f)){var d=createjs.HTMLAudioPlugin.TagPool.get(f);var h=this._createTag(f);h.id=f;d.add(h);this.preload(f,{tag:h})}return new createjs.HTMLAudioPlugin.SoundInstance(f,g,e,this)};b.isPreloadStarted=function(d){return(this._audioSources[d]!=null)};b.preload=function(d,e){this._audioSources[d]=true;new createjs.HTMLAudioPlugin.Loader(d,e)};b.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=a}());(function(){function b(e,f,c,d){this._init(e,f,c,d)}var a=b.prototype=new createjs.EventDispatcher();a.constructor=b;a.src=null;a.uniqueId=-1;a.playState=null;a._owner=null;a.loaded=false;a._offset=0;a._startTime=0;a._volume=1;if(createjs.definePropertySupported){Object.defineProperty(a,"volume",{get:function(){return this._volume},set:function(c){if(Number(c)==null){return}c=Math.max(0,Math.min(1,c));this._volume=c;this._updateVolume()}})}a.pan=0;a._duration=0;a._audioSpriteStopTime=null;a._remainingLoops=0;if(createjs.definePropertySupported){Object.defineProperty(a,"loop",{get:function(){return this._remainingLoops},set:function(c){if(this.tag!=null){if(this._remainingLoops!=0&&c==0){this.tag.loop=false;this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false)}if(this._remainingLoops==0&&c!=0){this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false);this.tag.loop=true}}this._remainingLoops=c}})}a._delayTimeoutId=null;a.tag=null;a._muted=false;a.paused=false;a._paused=false;a._endedHandler=null;a._readyHandler=null;a._stalledHandler=null;a._audioSpriteEndHandler=null;a.loopHandler=null;a._init=function(e,f,c,d){this.src=e;this._startTime=f||0;if(c){this._duration=c;this._audioSpriteStopTime=(f+c)*0.001}else{this._duration=createjs.HTMLAudioPlugin.TagPool.getDuration(this.src)}this._owner=d;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleSoundReady,this);this._stalledHandler=createjs.proxy(this._handleSoundStalled,this);this.__audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};a._sendEvent=function(d){var c=new createjs.Event(d);this.dispatchEvent(c)};a._cleanUp=function(){var d=this.tag;if(d!=null){d.pause();this.tag.loop=false;d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false);d.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this.__audioSpriteEndHandler,false);try{d.currentTime=this._startTime}catch(c){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,d);this.tag=null}clearTimeout(this._delayTimeoutId);createjs.Sound._playFinished(this)};a._interrupt=function(){if(this.tag==null){return}this.playState=createjs.Sound.PLAY_INTERRUPTED;this._cleanUp();this.paused=this._paused=false;this._sendEvent("interrupted")};a.play=function(d,c,f,e,h,g){if(this.playState==createjs.Sound.PLAY_SUCCEEDED){if(d instanceof Object){f=d.offset;e=d.loop;h=d.volume;g=d.pan}if(f!=null){this.setPosition(f)}if(e!=null){this.loop=e}if(h!=null){this.setVolume(h)}if(g!=null){this.setPan(g)}if(this._paused){this.resume()}return}this._cleanUp();createjs.Sound._playInstance(this,d,c,f,e,h,g)};a._beginPlaying=function(d,c,g,e){var f=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);if(f==null){this.playFailed();return -1}f.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);this._offset=d;this.volume=g;this._updateVolume();this._remainingLoops=c;if(f.readyState!==4){f.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);f.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);f.preload="auto";f.load()}else{this._handleSoundReady(null)}this._sendEvent("succeeded");return 1};a._handleSoundStalled=function(c){this._cleanUp();this._sendEvent("failed")};a._handleSoundReady=function(c){this.playState=createjs.Sound.PLAY_SUCCEEDED;this.paused=this._paused=false;this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false);if(this._offset>=this.getDuration()){this.playFailed();return}this.tag.currentTime=(this._startTime+this._offset)*0.001;if(this._audioSpriteStopTime){this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);this.tag.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this.__audioSpriteEndHandler,false)}else{if(this._remainingLoops!=0){this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false);this.tag.loop=true}}this.tag.play()};a.pause=function(){if(!this._paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&this.tag!=null){this.paused=this._paused=true;this.tag.pause();clearTimeout(this._delayTimeoutId);return true}return false};a.resume=function(){if(!this._paused||this.tag==null){return false}this.paused=this._paused=false;this.tag.play();return true};a.stop=function(){this._offset=0;this.pause();this.playState=createjs.Sound.PLAY_FINISHED;this._cleanUp();return true};a.setMasterVolume=function(c){this._updateVolume()};a.setVolume=function(c){this.volume=c;return true};a._updateVolume=function(){if(this.tag!=null){var c=(this._muted||createjs.Sound._masterMute)?0:this._volume*createjs.Sound._masterVolume;if(c!=this.tag.volume){this.tag.volume=c}}};a.getVolume=function(c){return this.volume};a.setMasterMute=function(c){this._updateVolume()};a.setMute=function(c){if(c==null){return false}this._muted=c;this._updateVolume();return true};a.getMute=function(){return this._muted};a.setPan=function(c){return false};a.getPan=function(){return 0};a.getPosition=function(){if(this.tag==null){return this._offset}return(this.tag.currentTime*1000)-this._startTime};a.setPosition=function(d){if(this.tag==null){this._offset=d}else{this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false);this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,false);try{d=d+this._startTime;this.tag.currentTime=d*0.001}catch(c){this._handleSetPositionSeek(null);return false}}return true};a._handleSetPositionSeek=function(c){if(this.tag==null){return}this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,false);this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false)};a.getDuration=function(){return this._duration};a._handleSoundComplete=function(c){this._offset=0;this.playState=createjs.Sound.PLAY_FINISHED;this._cleanUp();this._sendEvent("complete")};a._handleAudioSpriteLoop=function(c){if(this.tag.currentTime<=this._audioSpriteStopTime){return}this.tag.pause();if(this._remainingLoops==0){this._handleSoundComplete(null)}else{this._offset=0;this._remainingLoops--;this.tag.currentTime=this._startTime*0.001;if(!this._paused){this.tag.play()}this._sendEvent("loop")}};a.handleSoundLoop=function(c){this._offset=0;this._remainingLoops--;if(this._remainingLoops==0){this.tag.loop=false;this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,false)}this._sendEvent("loop")};a.playFailed=function(){this.playState=createjs.Sound.PLAY_FAILED;this._cleanUp();this._sendEvent("failed")};a.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.HTMLAudioPlugin.SoundInstance=b}());(function(){function a(c,d){this._init(c,d)}var b=a.prototype;b.constructor=a;b.src=null;b.tag=null;b.preloadTimer=null;b.loadedHandler=null;b._init=function(d,e){this.src=d;this.tag=e;this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200);this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this);this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler);if(this.tag.onreadystatechange==null){this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}else{var c=this.tag.onreadystatechange;this.tag.onreadystatechange=function(){c();this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto";this.tag.load()};b.preloadTick=function(){var c=this.tag.buffered;var d=this.tag.duration;if(c.length>0){if(c.end(0)>=d-1){this.handleTagLoaded()}}};b.handleTagLoaded=function(){clearInterval(this.preloadTimer)};b.sendLoadedEvent=function(c){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=null;createjs.Sound._sendFileLoadEvent(this.src)};b.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=a}());(function(){function c(d){this._init(d)}var b=c;b.tags={};b.get=function(e){var d=b.tags[e];if(d==null){d=b.tags[e]=new c(e)}return d};b.remove=function(e){var d=b.tags[e];if(d==null){return false}d.removeAll();delete (b.tags[e]);return true};b.removeAll=function(){for(var d in b.tags){b.tags[d].removeAll()}b.tags={}};b.getInstance=function(e){var d=b.tags[e];if(d==null){return null}return d.get()};b.setInstance=function(e,f){var d=b.tags[e];if(d==null){return null}return d.set(f)};b.getDuration=function(e){var d=b.tags[e];if(d==null){return 0}return d.getDuration()};var a=c.prototype;a.constructor=c;a.src=null;a.length=0;a.available=0;a.tags=null;a.duration=0;a._init=function(d){this.src=d;this.tags=[]};a.add=function(d){this.tags.push(d);this.length++;this.available++};a.removeAll=function(){var d;while(this.length--){d=this.tags[this.length];if(d.parentNode){d.parentNode.removeChild(d)}delete (this.tags[this.length])}this.src=null;this.tags.length=0};a.get=function(){if(this.tags.length==0){return null}this.available=this.tags.length;var d=this.tags.pop();if(d.parentNode==null){document.body.appendChild(d)}return d};a.set=function(e){var d=createjs.indexOf(this.tags,e);if(d==-1){this.tags.push(e)}this.available=this.tags.length};a.getDuration=function(){if(!this.duration){this.duration=this.tags[this.tags.length-1].duration*1000}return this.duration};a.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=c}());