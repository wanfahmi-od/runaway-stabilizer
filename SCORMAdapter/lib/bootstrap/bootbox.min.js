(function(b,a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{b.bootbox=a(b.jQuery)}}}(this,function init(a,o){var n={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}};var d={locale:"en",backdrop:"static",animate:true,className:null,closeButton:true,show:true,container:"body"};var f={};function b(q){var r=h[d.locale];return r?r[q]:h.en[q]}function l(s,r,q){s.stopPropagation();s.preventDefault();var t=a.isFunction(q)&&q.call(r,s)===false;if(!t){r.modal("hide")}}function g(r){var q,s=0;for(q in r){s++}return s}function e(q,s){var r=0;a.each(q,function(t,u){s(t,u,r++)})}function m(r){var q;var s;if(typeof r!=="object"){throw new Error("Please supply an object of options")}if(!r.message){throw new Error("Please specify a message")}r=a.extend({},d,r);if(!r.buttons){r.buttons={}}q=r.buttons;s=g(q);e(q,function(v,t,u){if(a.isFunction(t)){t=q[v]={callback:t}}if(a.type(t)!=="object"){throw new Error("button with key "+v+" must be an object")}if(!t.label){t.label=v}if(!t.className){if(s<=2&&u===s-1){t.className="btn-primary"}else{t.className="btn-default"}}});return r}function i(r,t){var q=r.length;var s={};if(q<1||q>2){throw new Error("Invalid argument length")}if(q===2||typeof r[0]==="string"){s[t[0]]=r[0];s[t[1]]=r[1]}else{s=r[0]}return s}function j(r,q,s){return a.extend(true,{},r,i(q,s))}function k(s,t,u,q){var r={className:"bootbox-"+s,buttons:c.apply(null,t)};return p(j(r,q,u),t)}function c(){var r={};for(var s=0,t=arguments.length;s<t;s++){var q=arguments[s];var u=q.toLowerCase();var v=q.toUpperCase();r[u]={label:b(v)}}return r}function p(s,r){var q={};e(r,function(t,u){q[u]=true});e(s.buttons,function(t){if(q[t]===o){throw new Error("button key "+t+" is not allowed (options are "+r.join("\n")+")")}});return s}f.alert=function(){var q;q=k("alert",["ok"],["message","callback"],arguments);if(q.callback&&!a.isFunction(q.callback)){throw new Error("alert requires callback property to be a function when provided")}q.buttons.ok.callback=q.onEscape=function(){if(a.isFunction(q.callback)){return q.callback.call(this)}return true};return f.dialog(q)};f.confirm=function(){var q;q=k("confirm",["cancel","confirm"],["message","callback"],arguments);q.buttons.cancel.callback=q.onEscape=function(){return q.callback.call(this,false)};q.buttons.confirm.callback=function(){return q.callback.call(this,true)};if(!a.isFunction(q.callback)){throw new Error("confirm requires a callback")}return f.dialog(q)};f.prompt=function(){var w;var q;var r;var s;var u;var x;var v;s=a(n.form);q={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"};w=p(j(q,arguments,["title","callback"]),["cancel","confirm"]);x=(w.show===o)?true:w.show;w.message=s;w.buttons.cancel.callback=w.onEscape=function(){return w.callback.call(this,null)};w.buttons.confirm.callback=function(){var A;switch(w.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":A=u.val();break;case"checkbox":var z=u.find("input:checked");A=[];e(z,function(B,C){A.push(a(C).val())});break}return w.callback.call(this,A)};w.show=false;if(!w.title){throw new Error("prompt requires a title")}if(!a.isFunction(w.callback)){throw new Error("prompt requires a callback")}if(!n.inputs[w.inputType]){throw new Error("invalid prompt type")}u=a(n.inputs[w.inputType]);switch(w.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":u.val(w.value);break;case"select":var t={};v=w.inputOptions||[];if(!a.isArray(v)){throw new Error("Please pass an array of input options")}if(!v.length){throw new Error("prompt with select requires options")}e(v,function(z,B){var A=u;if(B.value===o||B.text===o){throw new Error("given options in wrong format")}if(B.group){if(!t[B.group]){t[B.group]=a("<optgroup/>").attr("label",B.group)}A=t[B.group]}A.append("<option value='"+B.value+"'>"+B.text+"</option>")});e(t,function(z,A){u.append(A)});u.val(w.value);break;case"checkbox":var y=a.isArray(w.value)?w.value:[w.value];v=w.inputOptions||[];if(!v.length){throw new Error("prompt with checkbox requires options")}if(!v[0].value||!v[0].text){throw new Error("given options in wrong format")}u=a("<div/>");e(v,function(z,B){var A=a(n.inputs[w.inputType]);A.find("input").attr("value",B.value);A.find("label").append(B.text);e(y,function(C,D){if(D===B.value){A.find("input").prop("checked",true)}});u.append(A)});break}if(w.placeholder){u.attr("placeholder",w.placeholder)}if(w.pattern){u.attr("pattern",w.pattern)}if(w.maxlength){u.attr("maxlength",w.maxlength)}s.append(u);s.on("submit",function(z){z.preventDefault();z.stopPropagation();r.find(".btn-primary").click()});r=f.dialog(w);r.off("shown.bs.modal");r.on("shown.bs.modal",function(){u.focus()});if(x===true){r.modal("show")}return r};f.dialog=function(x){x=m(x);var v=a(n.dialog);var w=v.find(".modal-dialog");var q=v.find(".modal-body");var r=x.buttons;var s="";var t={onEscape:x.onEscape};if(a.fn.modal===o){throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.")}e(r,function(z,y){s+="<button data-bb-handler='"+z+"' type='button' class='btn "+y.className+"'>"+y.label+"</button>";t[z]=y.callback});q.find(".bootbox-body").html(x.message);if(x.animate===true){v.addClass("fade")}if(x.className){v.addClass(x.className)}if(x.size==="large"){w.addClass("modal-lg")}else{if(x.size==="small"){w.addClass("modal-sm")}}if(x.title){q.before(n.header)}if(x.closeButton){var u=a(n.closeButton);if(x.title){v.find(".modal-header").prepend(u)}else{u.css("margin-top","-10px").prependTo(q)}}if(x.title){v.find(".modal-title").html(x.title)}if(s.length){q.after(n.footer);v.find(".modal-footer").html(s)}v.on("hidden.bs.modal",function(y){if(y.target===this){v.remove()}});v.on("shown.bs.modal",function(){v.find(".btn-primary:first").focus()});if(x.backdrop!=="static"){v.on("click.dismiss.bs.modal",function(y){if(v.children(".modal-backdrop").length){y.currentTarget=v.children(".modal-backdrop").get(0)}if(y.target!==y.currentTarget){return}v.trigger("escape.close.bb")})}v.on("escape.close.bb",function(y){if(t.onEscape){l(y,v,t.onEscape)}});v.on("click",".modal-footer button",function(z){var y=a(this).data("bb-handler");l(z,v,t[y])});v.on("click",".bootbox-close-button",function(y){l(y,v,t.onEscape)});v.on("keyup",function(y){if(y.which===27){v.trigger("escape.close.bb")}});a(x.container).append(v);v.modal({backdrop:x.backdrop?"static":false,keyboard:false,show:false});if(x.show){v.modal("show")}return v};f.setDefaults=function(){var q={};if(arguments.length===2){q[arguments[0]]=arguments[1]}else{q=arguments[0]}a.extend(d,q)};f.hideAll=function(){a(".bootbox").modal("hide");return f};var h={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};f.addLocale=function(q,r){a.each(["OK","CANCEL","CONFIRM"],function(s,t){if(!r[t]){throw new Error("Please supply a translation for '"+t+"'")}});h[q]={OK:r.OK,CANCEL:r.CANCEL,CONFIRM:r.CONFIRM};return f};f.removeLocale=function(q){delete h[q];return f};f.setLocale=function(q){return f.setDefaults("locale",q)};f.init=function(q){return init(q||a)};return f}));